{% extends "webapp/base.html" %}

{% block content %}

<h4>Welcome to the dashboard page, <b>{{ user }}! ðŸ‘‹</b></h4>  
<hr style="border: 1px solid #000; margin: 20px 0;">

<a class="btn btn-outline-primary " href="{% url 'create_record' %}">
    Create a new record &nbsp;<i class="fa fa-plus-circle" aria-hidden="true"></i>

</a>

<hr style="border: 1px solid #000; margin: 20px 0;">

<div class="text-center ">

<form class="form-inline my-2 my-lg-0" action="{% url 'search' %}" method="GET">
    <input class="form-control mr-sm-2" name="query" type="search" placeholder="write something here" aria-label="Search">
    &nbsp; 
    <button type='submit' class="btn btn-outline-dark w-100 btn-block p-2">Search &nbsp;<i class="fa fa-search" aria-hidden="true"></i></button>
</form>
  <hr style="border: 1px solid #000; margin: 20px 0;">

</div>

<table class="table table-primary table-hover table-bordered">
    <thead class="table-dark">
        <tr>
            <th scope="col">ID</th>
            <th scope="col">Full Name</th>
            <th scope="col">Department</th>
            <th scope="col">Phone</th>
            <th scope="col">E-mail</th>
            <th scope="col">Address</th>
            <th scope="col">City</th>
            <th scope="col">Country</th>
            <th scope="col">Province</th>
            <th scope="col">Date joined</th>
            <th scope="col">View</th>
        </tr>
    </thead>
    <tbody>
        {% if records %}
            {% for record in records %}
                <tr>
                    <td>{{ record.id }}</td>
                    <td>{{ record.first_name|capfirst }} {{ record.last_name }}</td>
                    <td>{{ record.category }}</td>
                    <td>{{ record.phone }}</td>
                    <td>{{ record.email }}</td>
                    <td>{{ record.address }}</td>
                    <td>{{ record.city }}</td>
                    <td>{{ record.country }}</td>
                    <td>{{ record.province }}</td>
                    <td>{{ record.creation_date }}</td>
                    <td>
                        <a href="{% url 'view_record' record.id %}" class="btn btn-outline-primary btn-sm">View</a>
                    </td>
                </tr>
            {% endfor %}
            
        {% else %}
            <tr>
                <td colspan="11" class="text-center">You don't have any record yet.</td>
            </tr>
        {% endif %}
    </tbody>
</table>

{% endblock content %}
